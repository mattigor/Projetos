<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8"/>
	<title>Minha primeira engine</title>
	<style>
		canvas {
	position: absolute;
	top: 0px;
	bottom: 0px;
	left: 0px;
	right: 0px;
	margin: auto;
}
	</style>
<body>
	<script>

		//variÃ¡veis do jogo

var canvas,ctx,ALTURA,LARGURA,frames=0,maxPulos=999,

chao= {
	y: 550,
	altura: 50,
	cor: "#F83000",

	desenha: function() {
		ctx.fillStyle=this.cor;
		ctx.fillRect(0,this.y,LARGURA,this.altura);
	}
},

bloco= {
	x: 50,
	y: 0,
	altura: 50,
	largura: 50,
	cor: "#F8F8A0",
	gravidade: 1.5,
	velocidade: 0,
	forcaDoPulo: 25,
	qntPulos: 0,

	atualiza: function() {
		this.velocidade+=this.gravidade;
		this.y+=this.velocidade;

		if (this.y>chao.y-this.altura) {
			this.y=chao.y-this.altura;
			this.qntPulos=0;
		}
	},

	pula: function() {
		if (this.qntPulos<maxPulos) {
			this.velocidade=-this.forcaDoPulo;
			this.qntPulos++;
		}
	},

	desenha: function() {
		ctx.fillStyle=this.cor;
		ctx.fillRect(this.x,this.y,this.largura,this.altura);
	}
};

function clique(event) {
	bloco.pula();
}

function main() {
	ALTURA=window.innerHeight;
	LARGURA=window.innerWidth;

	if (LARGURA>=500) {
		LARGURA=600;
		ALTURA=600;
	}

	canvas=document.createElement("canvas");
	canvas.width=LARGURA;
	canvas.height=ALTURA;
	canvas.style.border="10px outset #00F800";

	ctx=canvas.getContext("2d");
	document.body.appendChild(canvas);
	document.addEventListener("mousedown",clique);

	roda();
}

function roda() {
	atualiza();
	desenha();

	window.requestAnimationFrame(roda);
}

function atualiza() {
	frames++;

	bloco.atualiza()
}

function desenha() {
	ctx.fillStyle="#000050";
	ctx.fillRect(0,0,LARGURA,ALTURA);

	chao.desenha();
	bloco.desenha();
}

//inicializa o jogo
main();
	</script>
</body>
</hmtl>